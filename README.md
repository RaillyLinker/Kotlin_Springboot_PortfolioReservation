# [포트폴리오 예약 서비스 프로젝트]

## 프로젝트 설명

- 본 프로젝트는 상품, 장소, 진료 등의 범용 상품에 대한 실용성 있는 예약 서비스 프로젝트입니다.<br>
  <br>
  기본적인 CRUD 를 넘어, 보다 복잡한 상태값과 알고리즘에 대한 설계 및 처리가 들어갔으며,<br>
  모듈 단위 MSA 코드 분리를 통하여 각 마이크로 서비스간의 결합성을 약화시켜 클린 아키텍쳐를 지향하였습니다.<br>
  <br>
  제로 베이스에서 Rest API 기반의 주력급 소프트웨어 서비스를 직접 연구, 설계, 개발할 수 있다는 능력 및 깊이 있는 아키텍쳐 설계 활용 능력을 증명하기 위해 준비하였습니다.<br>
  <br>
- 본 프로젝트는 개발 능력 함향을 위한 서비스 모듈 준비 및 포트폴리오 준비용으로 설계부터 구현까지를 저 혼자 담당하였음을 밝힙니다.<br>
  <br>
- !!! 주의 !!! : 포트폴리오 제출 용도의 프로젝트이므로 코드 파악 및 시연에 필요한 필수 코드를 제외한 중요 보안관련 코드를 일부 의도적으로 제거한 상태입니다.<br>
  <br>
  본 프로젝트를 무단으로 사용시 실제 서비스 운영에 치명적일 수 있는 누락 사항이 존재함을 경고드립니다.<br>
  <br>
  프로젝트를 무단으로 사용하여 일어난 모든 피해에 대해선 사용자 본인이 감당해야만 합니다.

## 프로젝트 설계

1. 인증/인가 모듈 연동 설계<br>
   <br>
   ![화면 캡처 2025-03-04 155326](https://github.com/user-attachments/assets/ce68acf6-b038-4100-a791-2f720eb9356a)

   인증/인가는 JWT 를 사용하였습니다.<br>
   사용자 본인 인증 수단으로 전화번호, 이메일 확인 로직을 적용 하였으며,<br>
   회원 가입, 사용자 정보 검증, 사용자 정보 변경, 토큰 발급 기능을 담당하고,<br>
   OAuth2 인증 api 역시 준비되었습니다.<br>
   <br>
2. 결제 모듈 연동 설계<br>
   <br>
   ![payment drawio](https://github.com/user-attachments/assets/327f6360-0c62-4fb8-aacf-212097ae384e)
   ![Payment](https://github.com/user-attachments/assets/3c3d00a2-2d1b-4860-a49f-f2ac9731680f)
   ![화면 캡처 2025-03-04 163331](https://github.com/user-attachments/assets/0459bcfd-8670-4ab9-8693-bd5eb00fca8e)

   위와 같이 실제 결제를 처리하는 결제 모듈을 분리하였습니다.<br>
   <br>
   결제 모듈에서는 PG 사, 은행 업무와 연동하여 실제로 현금의 흐름이 일어나는 것에 대한 처리를 담당하도록 하여,<br>
   <br>
   해당 기능을 사용하는 모든 마이크로 서비스에 동일한 기능을 보장하며,<br>
   예약 서비스 모듈과 같은 응용 서비스 모듈에서는 지정했던 금액이 입금되었는지를 확인만 하면 됩니다.<br>
   <br>
   순수하게 금액만으로 각 결제모듈과 연동되므로, 할인 정책, 판매 촉진의 방식, 구매 포인트에 대한 처리 등은 응용 모듈 단에서 깔끔한 구조로 추가할 수 있는 장점이 있습니다.<br>
   <br>
4. 예약 서비스 설계<br>
   <br>
   ![Reservation drawio](https://github.com/user-attachments/assets/710516c9-6a91-423e-b33a-14d615745fb0)
   ![Rental_Reservation](https://github.com/user-attachments/assets/6eb9c7f7-26da-4fab-82eb-25a1d33ef90f)

   예약 서비스는 위와 같은 알고리즘으로 구성되어 있습니다.<br>
   <br>
   모든 종류의 예약 서비스에 적용이 가능한 범용성을 우선시하였으므로,<br>
   상태 변경 진행 API 들은 모두 변화 없이 그대로 사용이 가능하며,<br>
   <br>
   프론트 단에서 요구하는 조회용 API 만 수정한다면 예약 관련 서비스를 짧은 시간 내에 구축할 수 있습니다.

## 중요 포인트 어필

1. 티켓 예약과 같이 선 공개 및 예약 가능 기간 설정 기간에 대한 기능이 있습니다.<br>
   <br>
2. 티켓 예약과 같이 예약 상품에 대한 트래픽 집중으로 인해 발생할 수 있는 비동기 처리하 데이터 정합성 처리를 하였습니다.<br>
   <br>
3. Admin 의 상품 정보 수정 기능이 구매자의 상품 예약 기능에 문제를 일으키지 않기 위한 상품 정보 버저닝을 하였으며, 공유락을 통해 정합성 처리를 하였습니다.<br>
   <br>
4. 인증/인가, 결제 모듈간의 연동을 Rest API 및 Kafka 메시지 큐를 사용하여 처리하였습니다.<br>
   메시지 큐 이벤트명, 공통 사용되는 Redis 인메모리 데이터 Key 이름에 대해서는 자체적인 프로토콜을 지정하여 관리가 용이하도록 처리하였습니다.<br>
   <br>
5. 설계자료를 기반으로 상태값과 상태 변화 관련 예외 방지 처리를 꼼꼼하게 진행하였으며,<br>
   Rest API 입출력 DTO 를 직관성 있게 설계하였고, 이를 Swagger API 문서를 통하여 배포하도록 처리하였습니다.<br>
   <br>
6. 이외 JPA 를 사용한 ORM 장점의 극대화, Spring Security 를 통한 인증/인가 처리 분리, 모듈화를 통한 깔끔한 구조, 통일성 있고 관심사별 분리된 코딩 방식 등은,<br>
   Github 에 공개된 게시판 포트폴리오(https://github.com/RaillyLinker/Kotlin_Springboot_PortfolioBoard)와 동일합니다.<br>
   <br>
7. 여러 서비스에서 자주 사용되는 예약 시스템의 범용적이며 근본적인 기능들을 이와 같이 작성해 두었으므로, 추후 예약이라는 기능이 들어가는 모든 프로젝트에 재활용이 가능합니다.<br>
